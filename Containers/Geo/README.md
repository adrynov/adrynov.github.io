Ready to run PostGIS geospatial database: https://hub.docker.com/r/kartoza/postgis/

[Set Up PostGIS Database With Docker](https://alexurquhart.com/post/set-up-postgis-with-docker/)

[Создание и наполнение PostGIS при использовании Docker](https://habr.com/ru/post/678420/)

## OpenStreeMaps

https://www.geofabrik.de/

This server has data extracts from the OpenStreetMap project for more than 200 areas world wide in different formats and customized extracts: https://download.bbbike.org/osm/

Cork data extracts: `wget https://download.bbbike.org/osm/bbbike/Cork/Cork.osm.pbf`

Для загрузки данных из файла в БД:

```
osm2pgsql -U postgres -W -l -d geo \
    -H localhost --output-pgsql-schema=cork \
    --number-processes 24  --slim Cork.osm.pbf
```

## PostGIS

https://hub.docker.com/r/kartoza/postgis/

[PostgREST Tutorial - Installation and Setup.pdf](:/37f91a3c195947ea98d5ae909dd3ccc0)

[Set Up PostGIS Database With Docker](https://alexurquhart.com/post/set-up-postgis-with-docker/)

```
docker run \
    --name postgis \
    -p 5434:5432 \
    -e POSTGRES_USER=postgres \
    -e POSTGRES_PASS=postgres \
    -e POSTGRES_DBNAME=gis \
    -e POSTGRES_MULTIPLE_EXTENSIONS=postgis \
    -e ALLOW_IP_RANGE=0.0.0.0/0 \
    -v pg_maps:/var/lib/postgresql \
    -d kartoza/postgis
```

You will have to configure Postgres to make sure it trusts connections (this is merely for the tutorial and shouldn't be used in production this way).

sudo docker exec -it postgrest_tut bash

To check the PostGIS installation, run

SELECT PostGIS_full_version();
which, if correctly installed, should return sth. like (citing your own specs):

POSTGIS="2.5.3 r17699" [EXTENSION] PGSQL="110" GEOS="3.7.2-CAPI-1.11.2 b55d2125" PROJ="Rel. 6.2.0, September 1st, 2019" GDAL="GDAL 3.0.1, released 2019/06/28" LIBXML="2.9.9" LIBJSON="0.13.1" LIBPROTOBUF="1.3.2" TOPOLOGY RASTER

After that, using the GEOMETRY data type in your tables should be working as expected, e.g.

CREATE TABLE spatial_test (
uid INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
geom GEOMETRY(POINT, 4326)
);
or

ALTER TABLE <table>
ADD COLUMN geom GEOMETRY(POINT, 4326)
;
and the ST functions and PostGIS type casts should be available, e.g.

SELECT ST_Buffer(
ST_SetSRID('POINT(0 0)'::GEOMETRY, 4326),
1
) AS geom
;
